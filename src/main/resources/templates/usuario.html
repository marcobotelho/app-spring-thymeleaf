<!DOCTYPE html>
<html 	xmlns:th="http://www.thymeleaf.org" 
		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
		data-bs-theme="dark">
<head>
    <title>Cadastro/Atualização de Usuário</title>
    
	<th:block th:replace="~{fragmentos/fragments.html :: headerfiles}"> </th:block>
</head>
<body>
    <th:block th:replace="~{fragmentos/fragments.html :: fragNavbar}"> </th:block>

	<div class="card" style="margin:1em">
	  <div class="card-header text-bg-primary">
	    <b>Cadastro/Atualização de Usuário</b>
	  </div>
	  <div class="card-body">
        <form id="formCadastro" th:action="@{/usuario}" th:object="${usuario}" method="post" >
			<div th:if="${alertRecord != null && alertRecord.type != null}" th:class="'alert alert-' + ${alertRecord.type} + ' alert-dismissible fade show'" role="alert">
				<strong th:if="${alertRecord.title != null}"  th:utext="${alertRecord.title}"></strong>
			    <span th:if="${alertRecord.message != null}" th:utext="${alertRecord.message}"></span>
			    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
			</div>
			
            <input type="hidden" th:field="*{id}">
            <div class="row"> 
            	<div class="form-group col-md-6">
		            <div class="form-floating mb-3">
		                <input type="text" class="form-control" id="nome" th:field="*{nome}" placeholder="Nome">
		                <label for="nome">Nome</label>
		            </div>            	
				</div>
	            <div class="form-group col-md-6">
	            	<div class="form-floating mb-3">
		                <input type="email" class="form-control" id="email" th:field="*{email}" placeholder="E-mail">
		                <label for="email">E-mail</label>
	            	</div>
	            </div>
            </div>
            <div class="row"> 
	            <div class="form-group col-md-2">
	            	<div class="form-floating mb-3">
		                <input type="number" class="form-control" id="idade" th:field="*{idade}" placeholder="Idade">
		                <label for="idade">Idade</label>
	            	</div>
	            </div>
	            <div class="form-group col-md-3">
	            	<div class="form-floating mb-3">
		                <input type="date" class="form-control" id="dataNascimento" th:field="*{dataNascimento}" placeholder="Data Nascimento">
		                <label for="dataNascimento">Data Nascimento</label>
	            	</div>
	            </div>
            </div>
            <div class="row"> 
            	<div class="form-group col-md-6">
		            <button type="submit" class="btn btn-primary">Salvar</button>
		            <a th:href="@{/usuario/novo}" class="btn btn-success">Novo</a>
	            </div>
			</div>
        </form>
	  </div>
	</div>
	<div class="card" style="margin:1em">
	  <div class="card-header text-bg-primary">
	    <b>Lista de Usuário</b>
	  </div>
	  <div class="card-body table-responsive">
        <table class="table table-sm">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>E-mail</th>
                    <th>Idade</th>
                    <th>Nascimento</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="usuario : ${usuarios}">
                    <td th:text="${usuario.id}"></td>
                    <td th:text="${usuario.nome}"></td>
                    <td th:text="${usuario.email}"></td>
                    <td th:text="${usuario.idade}"></td>
                    <td th:text="${#temporals.format(usuario.dataNascimento, 'dd/MM/yyyy')}"></td>
                    <td>
                        <a th:href="@{/usuario/editar/{id}(id=${usuario.id})}" class="btn btn-primary btn-sm">Editar</a>
                        <a th:href="@{/usuario/excluir/{id}(id=${usuario.id})}" class="btn btn-danger btn-sm">Excluir</a>
                    </td>
                </tr>
            </tbody>
        </table>        
   	  </div>
	</div>
	
    <th:block th:replace="~{fragmentos/fragments.html :: fragFooter}"> </th:block>
	
</body>
</html>